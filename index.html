<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>xpath rule for parser</title>

    <!-- Bootstrap -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/icon.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
	
	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	
	<!-- http://jsfiddle.net/jcosnn6u/3/ -->
	<link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
	<script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap/js/bootstrap.min.js"></script>
	
	<!-- https://select2.github.io/ -->
	<link href="js/select2/dist/css/select2.min.css" rel="stylesheet" />
	<script src="js/select2/dist/js/select2.min.js"></script>

	<!-- http://www.listjs.com/ -->
	<script type="text/javascript" src="js/list.js"></script>

	<!-- https://github.com/finom/vanillatree -->
	<link href="js/vanillatree/vanillatree.css" rel="stylesheet" />
	<script src="js/vanillatree/vanillatree.js"></script>
    
	<script src="js/mithril.js"></script>
  </head>
  <body>
<div class="container">
<div id="main">
	<div id="header">
	<div class="container-fluid">
		<div id="userinfo">
			<!--prio@hotbox.ru&nbsp;&nbsp;|&nbsp;&nbsp;<a target="_blank" href="#/ru/docs">Документация</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="#/ru/site/logout">Выход</a>	-->	
		</div>
		<div id="logo">
			<a href="/">
				<h1>Parser</h1>
			</a>
		</div>
	</div>	
	</div><!-- header -->
</div>	
<div class="clear"></div>
	

<!-- PARSER LIST -->
<template id="js_parse_list" style="display:none">
				<div class="">
					<div class="right-panel">
						<a href="#/parse/create"   class="btn btn-primary btn-lg" title="Create"><i class="icon-plus"></i>&nbsp;Создать парсер</a>
					</div>
				</div>
				<div class="clear"></div>
				<div class="">
					<div class="span2">
						<div class="right-panel hint">
							Это список ваших парсеров.		
						</div>	
					</div>
				</div>	
				<div class="clear"></div>
				<div class="title">Sites</div>
				<br>
				<div id="parser_list" class="grid-view">
					<input type="text" class="search" placeholder="Search" />
					<ul class="head_list">
							<li class="">
								<span class="sort col_5" data-sort="name" id="yw0_c1"><a >id<span class="caret"></span></a></span>
								<span class="sort col_5" data-sort="name" id="yw0_c1"><a >Название сайта<span class="caret"></span></a></span>
								<span class="sort col_5" data-sort="url"  id="yw0_c2"><a >URL сайта<span class="caret"></span></a></span>
								<span class="sort col_5" data-sort="date_edit" id="yw0_c3"><a>Изменено<span class="caret"></span></a></span>
								<span class="button-column col_5" id="yw0_c4"> </span>
							</li>
					</ul>
					<ul class="list"></ul>
				</div>
<script>
  
</script>					
</template>
<!-- PARSER LIST -->


<!-- EDIT PARSE -->
<template id="js_parse_edit" style="display:none">
	<div class="">
		<div class="">
					<div class="">
						<h3>Edit <span class="js_parse_name"></span></h3>
					</div>
					<div class="" style="max-height:80%;">
									
<div class="tabbable tabs-right">
		
		<div class="">
			<div id="" class="tab-pane active">
				<div>
					<input type="radio" name="request" value="curl" checked="checked"> Curl<Br>
					<input type="radio" name="request" value="phantomjs"> phantomjs
				</div>
				<form class="form-inline">
					<div class="checkbox">
							<input type="checkbox" name="base" id="js_base_btn">BaseTag
					</div>
					<div class="checkbox">
							<input type="checkbox" name="allelem" id="js_all" >&nbsp;All element
					</div>					
					<div class="form-group">
						<label class="sr-only" for="js_limit" >Limit parsing</label>
						<input type="text" name="limit" id="js_limit" placeholder="Limit parsing" value="1" >
					</div>
				</form>
				
				<form class="form-inline">
					<div class="form-group">
						<label class="sr-only" for="js_url" >Url page</label>
						<input type="text" name="url" class="js_url" value="" placeholder="Url page" style="width: 300px;"/>
					</div>
					<button class="btn js_loadpage_nourl" title="refrash"><i class="icon-repeat"></i></button>
					<div class="checkbox">
						<input type="checkbox" name="golink" id="js_golink" ><i class="icon-share-alt"></i>&nbsp;simulate click	
					</div>
				</form>

				<div class="clear"></div>
				
				<div id="iframes">			
					<iframe id="html" name="html" width="99%" height="350" ></iframe>
					<div id="hovered-element" style="position:relative;" ><div id="hovered-element-info" style="position:absolute;" ></div></div>			
				</div>
				
				<div class="clear" style="height:40px;"></div>
				
				<div id="rules-container">
					<div id="" class="js_items" ></div>
				</div>
				
				<div class="clear"></div>
			</div>
		
		</div>
	</div>
					</div>
				<div class="">
					<button class="btn js_save_rule"  >Сохранить</button>
					<!--	<button id="btnclose" class="btn" >Закрыть</button>
					<!--	<a data-dismiss="modal" id="add-btn" class="btn" href="/create/" >OK</a>    <a data-dismiss="modal" id="cancel-del-btn" class="btn" href="#">Отмена</a> -->
				</div>
		</div>
	</div>
			
</template>				
<!-- EDIT PARSE -->

<!-- EDIT RES -->
<template id="js_parse_res" style="display:none">
		<div id="script-container">			
			<textarea id="script" class="ldt-input js_rule_res" wrap="off" spellcheck="false" style="margin: 0px; width: 1151px;  height: 431px;"></textarea>
		</div>	
		<a href ="#/">ListParser</a><a href ="#/parse/run">run parse data</a>
</template>
<!-- EDIT RES -->


<!-- CREATE PARSE -->	
<template id="js_parse_create" style="display:none">
	<div class="">
		<div class="">
			<div class="">
				<h3>Создать парсер <span class="js_parse_id"></span></h3>
			</div>
			<div class="">
				<form class="form1 form-vertical" id="form"  method="post"> 
				<div class="form-group">
					<label for="js-name-field" class="required">Название <span class="required">*</span></label>
					<input class="form-control" name="name-field" id="js-name-field" type="text" placeholder="name">
				</div>
				<div class="form-group">
					<label for="js-url-field" class="required">Стартовая страница <span class="required">*</span></label>
					<input class="form-control" name="url-field" id="js-url-field" type="text" placeholder="site.ru">
				</div>
				<br>
				</form>
			</div>
			<div class="">
					<!--	<button type="button" class="btn btn-default" data-dismiss="modal">Close</button> -->
					<button type="button" class="btn btn-primary js_site_save" data-dismiss="modal">Save changes</button>
			</div>
		</div>
	</div>
</template>
<!-- CREATE PARSE-->

<!-- DEL PARSE -->				
<template id="js_parse_delete" style="display:none">
	<div class="">
		<div class="">
				<div class="">
					<h3>Удаление парсера <span class="js_parse_name"></span></h3>
				</div>
				<div class="">
					<input type="hidden" name="scrid" id="js_scrid" value="">
					<p>Вы действительно хотите удалить парсер?</p>
				</div>
				<div class="">
					<!--	<button type="button" class="btn btn-default" data-dismiss="modal">Close</button> -->
					<button type="button" class="btn btn-primary js_site_del" data-dismiss="modal">Save changes</button>
				</div>
		</div>
	</div>
</template>
<!-- DEL PARSE-->	

<!-- MODAL -->
	<!-- ITEM NAME PARSE -->
	<div id="itemNameParseModal" class="modal fade modal-draggable"   tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<a class="close" data-dismiss="modal">×</a>
				</div>
				<div class="modal-body">
					<form class="form-inline">
						<div class="form-group">
							<label for="exampleInputName1">Name</label>
							<input type="text" id="exampleInputName1" class = "js_name" name="name" placeholder="Jane Doe" />
						</div>
						<div class="form-group">
							<label for="exampleInputName2">Тип</label>
							<select class="form-control type js_type selattr" name="type" id="exampleInputName2">
								<option value=""></option>
								<option value="link">Ссылка</option>
								<option value="text">Текст</option>
								<option value="html">HTML</option>
								<option value="img">Картинка</option>
								<option value="attr">Атрибут</option>
							</select>
						</div>
						<div class="form-group">
							<label for="js_attr">Attr</label>
							<select class="form-control parent js_attr selattr" id="js_attr" name="attr"  >
								<option value=""></option>
							</select>
						</div>
						<div class="form-group">
							<label for="exampleInputName3">Parent</label>
							<select class="form-control parent js_parent selattr" id="exampleInputName3" name="parent"  >
								<option value=""></option>
							</select>
						</div>
						<button class="btn js_set_item" >OK</button>
					</form>
				</div>
			</div>
		</div>
	</div>
	<!-- ITEM NAME PARSE -->
	<!-- LOAD TREE PARSE -->
	<div id="loadTreeParseModal" class="modal fade"   tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<a class="close" data-dismiss="modal">×</a>
					<h3>Загружаемые страницы</h3>
				</div>
				<div class="modal-body">
								<div id="loadtree-content">
							<ul>
								<li><img class="plus" src="images/icon-opened.gif"/><span>page1</span><br/>
									<ul>
										<li><img class="plus" src="images/icon-opened.gif"/><span class="selected">page1_1</span></li>
										<li><img class="plus" src="images/icon-opened.gif"/><span>page1_2</span></li>
									</ul>
								</li>
								<li><img class="plus" src="images/icon-opened.gif"/><span>page2</span></li>
							</ul>
						</div>
						<div class="popup-btns">
							<button class="btn" onclick="cancelLoadTree();" style="float:right; margin-left:10px;">Отмена</button>
							<button class="btn" onclick="setLoadTree();" style="float:right;">OK</button>
						</div>
				</div>
			</div>
		</div>
	</div>
	<!-- LOAD TREE PARSE -->
	<!-- HTML TREE PARSE -->
	<div id="htmlTreeParseModal" class="js_htmltree modal fade"   tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<a class="close" data-dismiss="modal">×</a>
					<h3>Дерево html элементов</h3>
				</div>
				<div class="modal-body">
								<div id="htmltree-content">
						</div>
						<!-- <span>XPath</span><input type="text" name="xpath" style="width: 90%; margin-left: 10px;"/>  -->
						<textarea name="xpath" spellcheck="false" style="width: 97%"></textarea>
						<input type="hidden" name="name" />
						<input type="hidden" name="xpath" />
						<div class="popup-btns">
							<button class="btn" onclick="cancelHtmlTree();" style="float:right; margin-left:10px;">Отмена</button>
							<button class="btn js_set_xpath" id="" onclick="setHtmlTree(this);" style="float:right;">OK</button>
							<div id="labels">
								<span id="rulename"></span>&nbsp;&nbsp;&nbsp;&nbsp;
								
								<span class="label" id="text">Текст</span>
								<span class="label" id="link">Ссылка</span>
								<span class="label" id="image">Картинка</span>
								<span class="label" id="regexp">RegExp</span>
								<span class="label" id="htmltype">HTML</span>
								
							</div>
						</div>
				</div>
			</div>
		</div>
	</div>
	<!-- HTML TREE PARSE -->
<!-- MODAL -->


	<div class="clear"></div>
	
		<div class="container-fluid">
				<div id="js_block"></div>
		</div>
	<div class="clear"></div>
</div>
	<div id="loader" class="popup2">
		<img src="images/ajax-loader2.gif" />
	</div>
</body>
<script type="text/javascript" src="js/common.js" ></script>
<script type="text/javascript" src="js/main.js" ></script>

</html>
